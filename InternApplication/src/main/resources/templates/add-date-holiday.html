<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:th="http://www.thymeleaf.org"
	xmlns:sec="http://www.thymeleaf.org">
<head>
<meta charset="ISO-8859-1">
<title>Intern Application Website</title>


<style id="antiClickjack"> body{display:none !important;} </style>
<script type="text/javascript">
	if(self===top){
		var antiClickjack = document.getElementById("antiClickjack");
		antiClickjack.parentNode.removeChild(antiClickjack);
	}
	else{
		top.location= self.location;
	}
</script>




<link rel="icon" href="../static/images/indian_railways.jpeg"
	th:href="@{images/indian_railways.jpeg}" type="image/png">
<link rel="stylesheet" href="../static/css/style.css"
	th:href="@{css/style.css}">
<script src="../static/js/main.js" th:src="@{js/main.js}"></script>
<link rel="stylesheet"
	href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css">
<script
	src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script
	src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
<script
	src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js"></script>

<script type="text/javascript" src="http://code.jquery.com/jquery-1.10.2.js"></script>
<script type="text/javascript" src="http://code.jquery.com/ui/1.11.0/jquery-ui.js"></script>
<link rel="stylesheet" href="http://code.jquery.com/ui/1.11.0/themes/smoothness/jquery-ui.css">
	

	
</head>
<body>

	<nav class="navbar navbar-expand-tg navbar-dark bg-dark">
<a class="navbar-brand" href="#" th:href="@{/}"><img 
     src="../images/0.jpg"
     
     style="width:17%;margin-right:5%;"/><span style="font-size:28px;">Intern Application Website</span>
     

</a>
<button class="navbar-toggler" type="button" data-toggle="collapse"
data-target="#navbarText" aria-controls="navbarText"
aria-expanded="false" aria-label="Toggle navigation">
<span class="navbar-toggler-icon"></span>
</button>

<div class="collapse navbar-collapse"id="navbarText">
<ul class="navbar-nav ml-auto">
</ul>
</div>
</nav>

<br>
<br>
<legend class="text-center" style ="color:red;font-size:30px;">Set your Holiday here!!!</legend>


  
    <div class="container my-5">
        <h3> Set Holidays </h3>
        
        <div class="card">
            <div class="card-body">
                <div class="col-md-10">
                    <form name="Form" onsubmit="return validateForm()"  action="#" th:action="@{/holidayss/add}" th:object="${holiday}" method="post">
                        <div class="row">
                        
                        	
                        	
                        	
                        	<div class="col-sm-6 col-sm-offset-3" >
    						
								<table class="table table-hover">
								
         					    <tr>
            						 <td>Select Holiday Type</td>
            					 	<td >
            	 						<select class="form-control"  id="holi_id"  onclick="getholiday()"  th:field="*{holidaydesc}" name="holiday_desc" required><span th:if="${#fields.hasErrors('holidaydesc')}" th:errors="*{holidaydesc}" class="text-danger"></span>
           												
            	 		
            	 						</select>
            	 	
            						 </td>
             					</tr>
             
            					 <tr>
            						 <label style="font-size:150%;">Date</label>
  							
  									<input type="date"  th:field="*{holidaydate}" name="holiday_date" class="form-control" id="holidaydate" required/> <span th:if="${#fields.hasErrors('holidaydate')}" th:errors="*{holidaydate}" class="text-danger"></span>
           						</tr>
		
							
                            </div>
								
        					  </table>
        				  
							</div>
                        	
                            </div>
                            

                            <div class="col-md-6">
                                <input type="submit" th:value="ADD" class="btn btn-primary"  value="Set Holiday" onclick="getOption()">
                            </div>

        
                    </form>
                </div>
            </div>
        </div>
    </div>
    
    <p class="my-5">
                        <a th:href="@{/admin}" class="btn btn-primary" style="margin-left:48%;margin-top:-5%;"><i
       class="fas fa-user-plus ml-2" > Back</i></a>
                    </p>
                    
                    
                    
                    
                    
<script>


	$(document).ready(function() {
		//alert("j nkjs");
		getholiday();
	});



	function getholiday() {
		//alert("jbjhj");
		$.ajax({
			url : "/internapp/api/v3/display",
			type : "GET",
			contentType: "application/json; charset=utf-8",
	         dataType: "json",
			success : function(data) {
				//alert("jhbujn");
				
								
				
				//alert(data);
				//alert(data[0]);
				//alert(data[0].holidaydescription);
				
				
				if(data!=null)
				{
					//alert(data.length)
				}
				else
				{
					alert("null values");
				}
				
				//alert(data.holidaydropdown[0].holidaydescription);
				//alert(data[0].holidaydescription);
				//alert(data.length);
				
				
				//$('#holi_id').find('option').remove().end();
				for(var i=0;i<data.length;i++)
				{
					
					
					$('#holi_id').append('<option value='+data[i].id+'>'+data[i].holidaydescription+'</option>');
					
				}
				
				
				
			}
				
				
				
		});
	}
	
	
	
	
	

	
	
	


</script>
                    
</body>



</html>